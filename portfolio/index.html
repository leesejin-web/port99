<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="이세진">
    <meta name="description" content="포토폴리오 사이트">
    <meta name="keywords" content="포토폴리오 사이트">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>반응형 사이트 만들기</title>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"/>
    <link rel="stylesheet" href="assets/css/all.css">
</head>
<body>
    <div id="wrap">
        <div class="logo">
            <div class="first">
                <div class="s text"><img src="img/logo/s.svg" alt="s"></div>
                <div class="e text"><img src="img/logo/e.svg" alt="e"></div>
                <div class="j text"><img src="img/logo/j.svg" alt="j"></div>
                <div class="i text"><img src="img/logo/i.svg" alt="i"></div>
                <div class="n text"><img src="img/logo/n.svg" alt="n"></div>
            </div>
                <div class="second">
                    <div class="p text"><img src="img/logo/p.svg" alt="p"></div>
                    <div class="o text"><img src="img/logo/o.svg" alt="o"></div>
                    <div class="r text"><img src="img/logo/r.svg" alt="r"></div>
                    <div class="t text"><img src="img/logo/t.svg" alt="t"></div>
                    <div class="f text"><img src="img/logo/f.svg" alt="f"></div>
                    <div class="o text"><img src="img/logo/o.svg" alt="o"></div>
                    <div class="l text"><img src="img/logo/l.svg" alt="l"></div>
                    <div class="i text"><img src="img/logo/i-1.svg" alt="i"></div>
                    <div class="o text"><img src="img/logo/o.svg" alt="o"></div>
                    <div class="circle text"><img src="img/logo/circle.svg" alt="circle"></div>
                </div>
            </div>
            <div class="under"></div>
            <div class="me-wrap">
                <div class="me"><img src="img/me.svg" alt="나">
                    <div class="eye-wrap"></div>
                    <div class="hand"><img src="img/hand.svg" alt="손"></div>
                </div>
            </div>
            <div class="code"><img src="img/code.svg" alt="코드"></div>
            <div class="music-wrap">
                <div class="music01"><img src="img/music02.svg" alt="음반"></div>
                <div class="music02"><img src="img/music01.svg" alt="레코드">
                    <div class="line">
                        <div class="line01"></div>
                        <div class="line02"></div>
                        <div class="line03"></div>
                        <div class="line04"></div>
                        <div class="line05"></div>
                    </div>
                    <div class="play-wrap">
                        <div class="state"><img src="img/play.svg" alt="시작"></div>
                    </div>
                </div>
            </div>
            <div class="cat">
                <svg viewBox="0 0 493 470" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle class="pupil" cx="301.377" cy="120.203" r="25" fill="black"></circle>
                    <circle class="pupil" cx="410.549" cy="120.203" r="25" fill="black"></circle>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M259.889 15.0499V70.8143H259.876V221.295L258.4 221.295H256.925V221.306C204.644 222.094 162.506 264.721 162.506 317.189C162.506 317.682 162.51 318.174 162.517 318.664H162.506L162.506 432.262C108.996 416.323 97.8602 285.614 97.5813 232.691C97.589 232.336 97.5928 231.979 97.5928 231.622C97.5928 231.19 97.5872 230.759 97.576 230.33C97.5769 229.247 97.5827 228.202 97.5928 227.196L97.3926 227.176C95.1473 202.372 74.2973 182.937 48.908 182.937C23.6523 182.937 2.88829 202.168 0.460371 226.785C0.379264 226.92 0.300188 227.057 0.223163 227.196C-5.67803 379.447 106.937 458.326 162.506 469.145L397.078 469.145L398.554 469.145V469.134C450.834 468.345 492.973 425.719 492.973 373.25C492.973 372.983 492.972 372.716 492.969 372.449C492.969 372.36 492.968 372.272 492.967 372.183C492.965 372.047 492.964 371.911 492.962 371.775H492.973V221.295V71.4081H492.986V15.3468C493.478 7.47851 480.594 -5.89754 466.431 3.54437C452.416 12.8874 421.837 51.8923 407.857 70.8143H345.238C331.36 52.0065 300.533 12.6397 286.445 3.24749C272.282 -6.19442 259.397 7.18163 259.889 15.0499ZM360.21 152.253C360.21 174.252 342.376 192.086 320.377 192.086C298.377 192.086 280.543 174.252 280.543 152.253C280.543 130.253 298.377 112.42 320.377 112.42C342.376 112.42 360.21 130.253 360.21 152.253ZM429.549 192.086C451.548 192.086 469.382 174.252 469.382 152.253C469.382 130.253 451.548 112.42 429.549 112.42C407.549 112.42 389.716 130.253 389.716 152.253C389.716 174.252 407.549 192.086 429.549 192.086Z" fill="#232323"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M377.899 191.671C384.633 191.124 389.702 188.743 389.702 185.888C389.702 182.628 383.097 179.986 374.949 179.986C366.801 179.986 360.196 182.628 360.196 185.888C360.196 188.743 365.264 191.124 371.998 191.671V206.542H366.097C364.468 206.542 363.146 207.863 363.146 209.492C363.146 211.122 364.468 212.443 366.097 212.443H366.1H383.797H383.801C385.43 212.443 386.751 211.122 386.751 209.492C386.751 207.863 385.43 206.542 383.801 206.542H377.899V191.671Z" fill="#FACCFB"></path>
                </svg>
            </div>
            <div id="wrapper">
                <div id="iphone">
                 <div id="camera">
                  <span></span>
                  <span></span>
                 </div>
                 <div id="screen">
                  <div id="content-wrap">
                   <div id="background"></div>
                   <div id="content">
                    <div id="header">
                     <span id="menu-btn"><img src="img/menu.svg" alt="" class="svg"></span>
                     <span id="options-btn"><img src="img/more.svg" alt="" class="svg"></span>
                    </div>
                    <div class="jcarousel">
                     <ul id="songs">
                         <li class="song" data-audio="https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Leo%20-%20Trying.mp3" data-color="#f38578">
                           <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/trying-album-cover.jpg">
                           <p class="song-title">Trying</p>
                           <p class="song-artist">Leo</p>
                           </li>
                     </ul>
                    </div>
                    <audio crossorigin>
                               <source src="" type="audio/mpeg">
                           </audio>
                    <div id="controls">
                     <span id="previous-btn"><i class="fa fa-step-backward fa-fw" aria-hidden="true"></i></span>
                     <span id="play-btn"><i class="fa fa-play fa-fw" aria-hidden="true"></i></span>
                     <span id="next-btn"><i class="fa fa-step-forward fa-fw" aria-hidden="true"></i></span>
                    </div>
                    <div id="timeline">
                     <span id="current-time">--:--</span>
                     <span id="total-time">--:--</span>
                     <div class="slider" data-direction="horizontal">
                               <div class="progress">
                                   <div class="pin" id="progress-pin" data-method="rewind"></div>
                               </div>
                           </div>
                    </div>
                    <div id="sub-controls">
                     <i class="fa fa-random" aria-hidden="true"></i>
                     <i class="fa fa-refresh" aria-hidden="true"></i>
                     <i class="fa fa-bluetooth-b active" id="bluetooth-btn" aria-hidden="true"></i>
                     <i class="fa fa-heart-o" id="heart-icon" aria-hidden="true"></i>
                    </div>
                   </div>
                   <div id="overlay"></div>
                  </div>
                  <div id="sidemenu">
                   <ul>
                    <li>
                     <i class="fa fa-search fa-fw" aria-hidden="true"></i>
                            Search
                    </li>
                    <li>
                     <img class="svg menu-icons" src="img/music-player.svg" alt="">
                            Playlists
                    </li>
                    <li>
                     <img id="album-icon" class="svg menu-icons" src="img/album-icon.svg" alt="">
                     Albums
                    </li>
                    <li>
                     <i class="fa fa-microphone fa-fw" aria-hidden="true"></i>
                     Artists
                    </li>
                           <li>
                               <i class="fa fa-podcast fa-fw" aria-hidden="true"></i>
                               Podcasts
                           </li>
                           <li>
                               <i class="fa fa-cog fa-fw" aria-hidden="true"></i>
                               Settings
                           </li>
                   </ul>
                  </div>
                    <div id="bluetooth-devices" class="menu">
                           <span class="close-btn"><span>&times;</span> Close</span>
                           <h3>Devices nearby</h3>
                           <ul>
                               <li class="connected">
                                   <img id="headphones-icon" class="svg menu-icons" src="img/headphone.svg" alt="">
                                   <p>
                                       Major II Bluetooth
                                       <span>Connected</span>
                                   </p>
                               </li>
                               <li>
                                   <img id="headphones-icon" class="svg menu-icons" src="img/loudspeaker.svg" alt="">
                                   <p>
                                       Sonos One
                                       <span>Connected</span>
                                   </p>
                               </li>
                               <li>
                                   <img id="headphones-icon" class="svg menu-icons" src="img/car.svg" alt="">
                                   <p>
                                       Kia Motors
                                       <span>Connected</span>
                                   </p>
                               </li>
                           </ul>
                           <p class="info-text">
                               Make sure your bluetooth device is turned on and in range.
                           </p>
                       </div>
                    <div id="song-options" class="menu">
                        <span class="close-btn"><span>&times;</span> Close</span>
                        <div id="song-info">
                            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/rockstar-album-cover.jpg" alt="">
                            <div class="artist-wrap">
                                <p>
                                    <span class="title">rockstar</span>
                                   <span class="artist">Post Malone, 21 Savage</span>
                                </p>
                            </div>
                        </div>
                        <ul>
                            <li>
                       <i class="fa fa-music fa-fw add" aria-hidden="true"></i>
                               Add to playlist
                           </li>
                           <li>
                               <i class="fa fa-microphone fa-fw" aria-hidden="true"></i>
                               View Artist
                           </li>
                    <li>
                     <img id="album-icon" class="svg menu-icons" src="img/compact-disc.svg" alt="">
                     View Album
                    </li>
                           <li>
                               <i class="fa fa-share-square-o fa-fw" aria-hidden="true"></i>
                               Share
                           </li>
                        </ul>
                    </div>
                    <div id="home-screen">
                       <div class="home-content">
                           <h2>Music Player App</h2>
                           <p id="made-by">Made by <a href="https://codepen.io/emilcarlsson">@emilcarlsson</a></p>
                           <div class="app-icon">
                               <img class="svg" src="img/music-note.svg" alt="">
                           </div>
                           <p id="icons-by">Icons by <a href="http://fontawesome.io/" title="Font Awesome">Font Awesome</a>, <a href="https://www.flaticon.com/authors/those-icons" title="Those Icons">Those Icons</a>,<br /><a href="https://www.flaticon.com/authors/epiccoders" title="EpicCoders">EpicCoders</a> & <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a></p>
                       </div>
                    </div>
                 </div>
                 <div id="home-btn"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="vstudio">
        <div class="header"></div>
        <div class="side01"></div>
        <div class="side02"></div>
        <div class="scetion"></div>
    </div>

    <script src="assets/js/jquery.min_1.12.4.js"></script>
    <script src="assets/js/gsap.min.js"></script>
    <script src="assets/js/jquery.jcarousel.min.js"></script>
    <script src="assets/js/font.js"></script>
    <script>

        //music
        $(".play-wrap .stop").append("<img src='img/stop.svg' alt='정지'>");

        $(".music-wrap").click(function(){
            $(".music-wrap").toggleClass("show");
            $(".play-wrap").toggleClass("play");
            $("#wrapper").toggleClass("active")

            $(".play-wrap").is(".play") ? $(".state > img").attr({src : "img/stop.svg"}) : $(".state > img").attr({src : "img/play.svg"})
        });

        // logo
        setTimeout(function(){
            gsap.to("#wrap .logo .text", 0.9, {ease: Back.easeOut.config(1.7), opacity: 1, y: 0, stagger: 0.05});
            
        },2000);
       
       $("#wrap .logo .first .text").hover(function(){
        gsap.to($(this), 0.3, {ease: Back.easeOut.config(1.7), y: 50, stagger: 0.05});
       },function(){
        gsap.to($(this), 0.3, {ease: Back.easeOut.config(1.7), y: 0, stagger: 0.05});
       });
 

        // iphone
        $(document).ready(function () {
            var songs = [
                {
                    title: "rockstar",
                    artist: "Post Malone, 21 Savage",
                    cover: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/rockstar-album-cover.jpg",
                    audioFile: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Post%20Malone%20-%20rockstar%20ft.%2021%20Savage%20(1).mp3",
                    color: "#c3af50"
                },
                {
                    title: "Let You Down",
                    artist: "NF",
                    cover: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/perception-album-cover.png",
                    audioFile: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/NF%20-%20Let%20You%20Down.mp3",
                    color: "#25323b"
                },
                {
                    title: "Silence",
                    artist: "Marshmello, Khalid",
                    cover: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/silence-album-cover.jpg",
                    audioFile: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Marshmello%20-%20Silence%20ft.%20Khalid.mp3",
                    color: "#c1c1c1"
                },
                {
                    title: "I Fall Apart",
                    artist: "Post Malone",
                    cover: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/stoney-cover-album.jpg",
                    audioFile: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Post%20Malone%20-%20I%20Fall%20Apart.mp3",
                    color: "#cd4829"
                },
                {
                    title: "Fireproof",
                    artist: "VAX, Teddy Sky",
                    cover: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/fireproof-album-cover.jpeg",
                    audioFile: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/VAX%20-%20Fireproof%20Feat%20Teddy%20Sky.mp3",
                    color: "#5d0126"
                }
            ];
            
            for (let song of songs) {
                $("#songs").append('<li class="song" data-audio="' + song.audioFile + '" data-color="'+ song.color +'">' + 
                    '<img src="' + song.cover + '">' +
                    '<p class="song-title">' + song.title + '</p>' +
                    '<p class="song-artist">' + song.artist + '</p>' + 
                    '</li>');
            }
            
            $('.jcarousel').jcarousel({
                    wrap: 'circular'
            });
        });

        /*
        * Replace all SVG images with inline SVG
        */
        
        jQuery('#wrapper img[src$=".svg"]').each(function(){
            var $img = jQuery(this);
            var imgID = $img.attr('id');
            var imgClass = $img.attr('class');
            var imgURL = $img.attr('src');

            jQuery.get(imgURL, function(data) {
                // Get the SVG tag, ignore the rest
                var $svg = jQuery(data).find('svg');

                // Add replaced image's ID to the new SVG
                if(typeof imgID !== 'undefined') {
                    $svg = $svg.attr('id', imgID);
                }
                // Add replaced image's classes to the new SVG
                if(typeof imgClass !== 'undefined') {
                    $svg = $svg.attr('class', imgClass+' replaced-svg');
                }

                // Remove any invalid XML tags as per http://validator.w3.org
                $svg = $svg.removeAttr('xmlns:a');

                // Replace image with new SVG
                $img.replaceWith($svg);

            }, 'xml');

        });

        // Current slide
        $('.jcarousel').on('jcarousel:visiblein', 'li', function(event, carousel) {
            let cover = $(this).find("img").attr("src");
            let songTitle = $(this).find("p.song-title").html();
            let songArtist = $(this).find("p.song-artist").html();
            let audioSrc = $(this).attr("data-audio");
            let backgroundColor = $(this).attr("data-color");
            $("body").css('background', backgroundColor)
            $("#background").css('background-image', 'url('+cover+')');
            $("audio").find("source").attr("src", ""+audioSrc+"");
            player.load();
            player.currentTime = 0;
            $("#song-info").find("img").attr("src", cover);
            $("#song-info .artist-wrap p").find("span.title").html(songTitle);
            $("#song-info .artist-wrap p").find("span.artist").html(songArtist);
        });

        // Previous slide
        $('#previous-btn').click(function() {
            $('.jcarousel').jcarousel('scroll', '-=1');
            $('#play-btn i').removeClass('fa-pause');
            player.pause();
        });

        // Next slide
        $('#next-btn').click(function() {
            if ($(".fa-random").hasClass('active')) {
                let songs = $("#songs li").length - 1;
                let randomSong = Math.floor(Math.random() * songs) + 1;
                $('.jcarousel').jcarousel('scroll', '+=' + randomSong);
            } else {
                $('.jcarousel').jcarousel('scroll', '+=1');
            }
            $('#play-btn i').removeClass('fa-pause');
            player.pause();
        });

        // Play Icon Switcher
        $('#play-btn').click(function() {
            $(this).find('i').toggleClass('fa-pause');
        });

        // Menu
        $("#menu-btn").click(function() {
            $("#content-wrap").addClass('inactive');
            $("#sidemenu").addClass('active');
        });

        // Home Button
        $("#home-btn").click(function() {
            $("#home-screen").addClass('active');
            $(".menu").removeClass('active');
            $("#content-wrap").addClass('minimized');
        });

        // App
        $(".app-icon").click(function() {
            $("#content-wrap").removeClass('minimized');
            setTimeout(function(){ $("#home-screen").removeClass('active'); }, 300);
        });

        // Overlay
        $("#overlay").click(function () {
            $("#content-wrap").removeClass('inactive');
            $("#sidemenu").removeClass('active');
        });

        // Options
        $("#options-btn").click(function() {
            $("#song-options").addClass('active');
        });

        // Bluetooth
        $("#bluetooth-btn").click(function() {
            $("#bluetooth-devices").addClass('active');
        });

        // Bluetooth Menu
        $("#bluetooth-devices ul li").click(function() {
            $(this).toggleClass('connected');
            $(this).siblings().removeClass('connected');
            
            if ($("#bluetooth-devices ul li").hasClass('connected')) {
                $("#sub-controls i.fa-bluetooth-b").addClass('active');
            } else {
                $("#sub-controls i.fa-bluetooth-b").removeClass('active');
            }
        });

        // Close Menu
        $(".close-btn").click(function() {
            $(".menu").removeClass('active');
        });

        $('#sub-controls i').click(function () {
            if(!$(this).hasClass('fa-bluetooth-b')) {
                $(this).toggleClass('active');
            }
            
            if ($("#heart-icon").hasClass('active')) {
                $("#heart-icon").removeClass('fa-heart-o');
                $("#heart-icon").addClass('fa-heart');
            } else {
                $("#heart-icon").removeClass('fa-heart');
                $("#heart-icon").addClass('fa-heart-o');
            }
        });

        /*
        * Music Player
        * By Greg Hovanesyan
        * https://codepen.io/gregh/pen/NdVvbm
        */

        var audioPlayer = document.querySelector('#content');
        var playpauseBtn = audioPlayer.querySelector('#play-btn');
        var progress = audioPlayer.querySelector('.progress');
        var sliders = audioPlayer.querySelectorAll('.slider');
        var player = audioPlayer.querySelector('audio');
        var currentTime = audioPlayer.querySelector('#current-time');
        var totalTime = audioPlayer.querySelector('#total-time');

        var draggableClasses = ['pin'];
        var currentlyDragged = null;

        window.addEventListener('mousedown', function(event) {
        
        if(!isDraggable(event.target)) return false;
        
        currentlyDragged = event.target;
        let handleMethod = currentlyDragged.dataset.method;
        
        this.addEventListener('mousemove', window[handleMethod], false);

        window.addEventListener('mouseup', () => {
            currentlyDragged = false;
            window.removeEventListener('mousemove', window[handleMethod], false);
        }, false);  
        });

        playpauseBtn.addEventListener('click', togglePlay);
        player.addEventListener('timeupdate', updateProgress);
        player.addEventListener('loadedmetadata', () => {
        totalTime.textContent = formatTime(player.duration);
        });
        player.addEventListener('ended', function(){
        player.currentTime = 0;
            
            if ($(".fa-refresh").hasClass('active')) {
                togglePlay();
            } else {
                if ($(".fa-random").hasClass('active')) {
                    let songs = $("#songs li").length - 1;
                    let randomSong = Math.floor(Math.random() * songs) + 1;
                    $('.jcarousel').jcarousel('scroll', '+=' + randomSong);
                } else {
                    $('.jcarousel').jcarousel('scroll', '+=1');
                }
                togglePlay();
            }
        });

        sliders.forEach(slider => {
        let pin = slider.querySelector('.pin');
        slider.addEventListener('click', window[pin.dataset.method]);
        });

        function isDraggable(el) {
        let canDrag = false;
        let classes = Array.from(el.classList);
        draggableClasses.forEach(draggable => {
            if(classes.indexOf(draggable) !== -1)
            canDrag = true;
        })
        return canDrag;
        }

        function inRange(event) {
        let rangeBox = getRangeBox(event);
        let direction = rangeBox.dataset.direction;
            let screenOffset = document.querySelector("#screen").offsetLeft + 26;
            var min = screenOffset - rangeBox.offsetLeft;
            var max = min + rangeBox.offsetWidth;   
            if(event.clientX < min || event.clientX > max) { return false };
        return true;
        }

        function updateProgress() {
        var current = player.currentTime;
        var percent = (current / player.duration) * 100;
        progress.style.width = percent + '%';
        
        currentTime.textContent = formatTime(current);
        }

        function getRangeBox(event) {
        let rangeBox = event.target;
        let el = currentlyDragged;
        if(event.type == 'click' && isDraggable(event.target)) {
            rangeBox = event.target.parentElement.parentElement;
        }
        if(event.type == 'mousemove') {
            rangeBox = el.parentElement.parentElement;
        }
        return rangeBox;
        }

        function getCoefficient(event) {
        let slider = getRangeBox(event);
            let screenOffset = document.querySelector("#screen").offsetLeft + 26;
        let K = 0;
            let offsetX = event.clientX - screenOffset;
            let width = slider.clientWidth;
            K = offsetX / width;
        return K;
        }

        function rewind(event) {
        if(inRange(event)) {
            player.currentTime = player.duration * getCoefficient(event);
        }
        }

        function formatTime(time) {
        var min = Math.floor(time / 60);
        var sec = Math.floor(time % 60);
        return min + ':' + ((sec<10) ? ('0' + sec) : sec);
        }

        function togglePlay() {
            player.volume = 0.5;
            
        if(player.paused) {
            player.play();
        } else {
            player.pause();
        }  
        }



        // cat
        var pupil = document.getElementsByClassName("pupil");
        document.onmousemove = function () {
            var x = (event.clientX * 8) / window.innerWidth + "%";
            var y = (event.clientY * 8) / window.innerHeight + "%";

            for (var i = 0; i < 2; i++) {
                pupil[i].style.left = x;
                pupil[i].style.top = y;
                pupil[i].style.transform = "translate(" + x + "," + y + ")";
            }
        };
    </script>
</body>
</html>